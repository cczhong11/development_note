<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><link rel="icon" href="/favicon.ico"/><title>Replication</title><meta name="robots" content="index,follow"/><meta name="googlebot" content="index,follow"/><meta name="description" content="Personal knowledge space"/><meta property="og:title" content="Replication"/><meta property="og:description" content="Personal knowledge space"/><meta property="og:url" content="https://notes.tczhong.com/notes/7ad4e42c-ffb2-4c6a-9807-b9b71fa61eb0/"/><meta property="og:type" content="article"/><meta property="article:published_time" content="5/12/2021"/><meta property="article:modified_time" content="5/12/2021"/><link rel="canonical" href="https://notes.tczhong.com/notes/7ad4e42c-ffb2-4c6a-9807-b9b71fa61eb0/"/><meta name="next-head-count" content="14"/><link rel="preload" href="/_next/static/css/8e7b7e4bce421c0a.css" as="style"/><link rel="stylesheet" href="/_next/static/css/8e7b7e4bce421c0a.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-3d209faeb64f2f97.js" defer=""></script><script src="/_next/static/chunks/framework-28c999baf2863c3d.js" defer=""></script><script src="/_next/static/chunks/main-104451f3d1a5c4bc.js" defer=""></script><script src="/_next/static/chunks/pages/_app-6b338472289fe290.js" defer=""></script><script src="/_next/static/chunks/935-4dee79e80b8641c6.js" defer=""></script><script src="/_next/static/chunks/6-50972def09142ee2.js" defer=""></script><script src="/_next/static/chunks/pages/notes/%5Bid%5D-78d472fa3b924116.js" defer=""></script><script src="/_next/static/2XI28xCTA7nnAuXRumXG6/_buildManifest.js" defer=""></script><script src="/_next/static/2XI28xCTA7nnAuXRumXG6/_ssgManifest.js" defer=""></script></head><body><div id="__next" data-reactroot=""><section class="ant-layout" style="width:100%;min-height:100%"><header class="ant-layout-header" style="position:fixed;isolation:isolate;z-index:1;width:100%;border-bottom:1px solid #d4dadf;height:64px;padding:0 24px 0 2px"><div class="ant-row ant-row-center" style="max-width:992px;justify-content:space-between;margin:0 auto"><div style="display:flex" class="ant-col ant-col-xs-20 ant-col-sm-4"></div><div class="ant-col gutter-row ant-col-xs-0 ant-col-sm-20 ant-col-md-20 ant-col-lg-19"><div class="ant-select ant-select-lg ant-select-auto-complete ant-select-single ant-select-allow-clear ant-select-show-search" style="width:100%"><div class="ant-select-selector"><span class="ant-select-selection-search"><input type="search" autoComplete="off" class="ant-select-selection-search-input" role="combobox" aria-haspopup="listbox" aria-owns="undefined_list" aria-autocomplete="list" aria-controls="undefined_list" aria-activedescendant="undefined_list_0" value=""/></span><span class="ant-select-selection-placeholder">For full text search please use the &#x27;?&#x27; prefix. e.g. ? Onboarding</span></div></div></div><div style="display:none;align-items:center;justify-content:center" class="ant-col ant-col-xs-4 ant-col-sm-4 ant-col-md-0 ant-col-lg-0"><span role="img" aria-label="menu" style="font-size:24px" tabindex="-1" class="anticon anticon-menu"><svg viewBox="64 64 896 896" focusable="false" data-icon="menu" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M904 160H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0 624H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0-312H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8z"></path></svg></span></div></div></header><section class="ant-layout" style="margin-top:64px;display:flex;flex-direction:row"><div class="site-layout-sidebar" style="flex:0 0 auto;width:calc(max((100% - 992px) / 2, 0px) + 200px);min-width:200px;padding-left:calc((100% - 992px) / 2)"><aside class="ant-layout-sider ant-layout-sider-dark" style="position:fixed;overflow:auto;height:calc(100vh - 64px);background-color:transparent;flex:0 0 200px;max-width:200px;min-width:200px;width:200px"><div class="ant-layout-sider-children"></div></aside></div><main class="ant-layout-content side-layout-main" style="max-width:1200px;min-width:0;display:block"><div style="padding:0 24px"><div class="main-content" role="main"><div class="ant-row"><div class="ant-col ant-col-24"><div class="ant-row" style="margin-left:-10px;margin-right:-10px"><div style="padding-left:10px;padding-right:10px" class="ant-col ant-col-xs-24 ant-col-md-18"><div><h1 id="replication">Replication<a aria-hidden="true" class="anchor-heading icon-link" href="#replication"></a></h1>
<h1 id="leaders-and-followers">leaders and followers<a aria-hidden="true" class="anchor-heading icon-link" href="#leaders-and-followers"></a></h1>
<p>Every write to the database needs to be processed by every replica; otherwise, the rep‐licas would no longer contain the same data. The most common solution for this is called leader-based replication</p>
<p><img src="/assets/images/2021-05-11-21-10-46.png"></p>
<p>An important detail of a replicated system is whether the replication happens syn‐chronously or asynchronous</p>
<p><img src="/assets/images/2021-05-11-21-12-13.png"></p>
<p>replication to follower 1 is synchronous: the leader waits until follower 1 has confirmed that it received the write before reporting success to the user, and before making the write visible to other clients. The replication to follower 2 is asynchronous: the leader sends the message, but doesn’t wait for a response from the follower.</p>
<p>The advantage of synchronous replication is that the follower is guaranteed to have an up-to-date copy of the data that is consistent with the leader. If the leader sud‐denly fails, we can be sure that the data is still available on the follower. The disad‐vantage is that if the synchronous follower doesn’t respond (because it has crashed, or there is a network fault, or for any other reason), the write cannot be processed.
The leader must block all writes and wait until the synchronous replica is available again.</p>
<p>In practice, if you enable syn‐chronous replication on a database, it usually means that one of the followers is syn‐chronous, and the others are asynchronous. If the synchronous follower becomes unavailable or slow, one of the asynchronous followers is made synchronous. This guarantees that you have an up-to-date copy of the data on at least two nodes. This configuration is sometimes also called semi-synchronous.</p>
<p>leader-based replication is configured to be completely asynchronous. In this case, if the leader fails and is not recoverable, any writes that have not yet been repli‐cated to followers are lost. This means that a write is not guaranteed to be durable, even if it has been confirmed to the client. However, a fully asynchronous configura‐tion has the advantage that the leader can continue processing writes, even if all of its followers have fallen behind.</p>
<h2 id="setting-up-new-followers">Setting Up New Followers<a aria-hidden="true" class="anchor-heading icon-link" href="#setting-up-new-followers"></a></h2>
<ul>
<li>Take a consistent snapshot of the leader’s database at some point in time</li>
<li>Copy the snapshot to the new follower node.</li>
<li>The follower connects to the leader and requests all the data changes that have happened since the snapshot was taken</li>
<li>When the follower has processed the backlog of data changes since the snapshot, we say it has caught up. It can now continue to process data changes from the leader as they happen.</li>
</ul>
<h2 id="fail-over">fail-over<a aria-hidden="true" class="anchor-heading icon-link" href="#fail-over"></a></h2>
<p>follower</p>
<p>On its local disk, each follower keeps a log of the data changes it has received from the leader. If a follower crashes and is restarted, or if the network between the leader and the follower is temporarily interrupted, the follower can recover quite easily: from its log, it knows the last transaction that was processed before the fault occurred</p>
<p>leader</p>
<ul>
<li>Determining that the leader has failed. There is no foolproof way of detecting what has gone wrong, so most systems simply use a timeout: nodes frequently bounce messages back and forth between each other, and if a node doesn’t respond for some period of tim</li>
<li>Choosing a new leader. This could be done through an election process (where the leader is chosen by a majority of the remaining replicas), or a new leader could be appointed by a previously elected controller node. The best candidate for leadership is usually the replica with the most up-to-date data changes from the old leader</li>
<li>Reconfiguring the system to use the new leader. Clients now need to send their write requests to the new leader</li>
</ul>
<h1 id="implementation-of-replication-logs">Implementation of Replication Logs<a aria-hidden="true" class="anchor-heading icon-link" href="#implementation-of-replication-logs"></a></h1>
<h2 id="write-ahead-log-wal-shipping">Write-ahead log (WAL) shipping<a aria-hidden="true" class="anchor-heading icon-link" href="#write-ahead-log-wal-shipping"></a></h2>
<p>the log is an append-only sequence of bytes containing all writes to the database. We can use the exact same log to build a replica on another node: besides writing the log to disk, the leader also sends it across the network to its followers.</p>
<p>. The main disadvantage is that the log describes the data on a very low level: a WAL con‐tains details of which bytes were changed in which disk blocks. This makes replica‐tion closely coupled to the storage engine. If the database changes its storage format from one version to another, it is typically not possible to run different versions of the database software on the leader and the followers.</p>
<h2 id="logical-row-based-log-replication">Logical (row-based) log replication<a aria-hidden="true" class="anchor-heading icon-link" href="#logical-row-based-log-replication"></a></h2>
<p>An alternative is to use different log formats for replication and for the storage engine, which allows the replication log to be decoupled from the storage engine internals. This kind of replication log is called a logical log, to distinguish it from the storage engine’s (physical) data representation.</p>
<p>A logical log for a relational database is usually a sequence of records describing writes to database tables at the granularity of a row: </p>
<p>• For an inserted row, the log contains the new values of all columns.
• For a deleted row, the log contains enough information to uniquely identify the row that was deleted. Typically this would be the primary key, but if there is no primary key on the table, the old values of all columns need to be logged.
• For an updated row, the log contains enough information to uniquely identify the updated row, and the new values of all columns (or at least the new values of all columns that changed)</p></div></div><div style="padding-left:10px;padding-right:10px" class="ant-col ant-col-xs-0 ant-col-md-6"><div><div class=""><div class="ant-anchor-wrapper dendron-toc" style="max-height:calc(100vh - 64px);z-index:1"><div class="ant-anchor"><div class="ant-anchor-ink"><span class="ant-anchor-ink-ball"></span></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#leaders-and-followers" title="Leaders And Followers">Leaders And Followers</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#setting-up-new-followers" title="Setting Up New Followers">Setting Up New Followers</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#fail-over" title="Fail Over">Fail Over</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#implementation-of-replication-logs" title="Implementation Of Replication Logs">Implementation Of Replication Logs</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#write-ahead-log-wal-shipping" title="Write Ahead Log Wal Shipping">Write Ahead Log Wal Shipping</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#logical-row-based-log-replication" title="Logical Row Based Log Replication">Logical Row Based Log Replication</a></div></div></div></div></div></div></div></div></div></div></div><div class="ant-divider ant-divider-horizontal" role="separator"></div><footer class="ant-layout-footer" style="padding:0 24px 24px"></footer></main></section></section></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"note":{"id":"7ad4e42c-ffb2-4c6a-9807-b9b71fa61eb0","title":"Replication","vault":{"fsPath":"repos/dendron-aws-vault","remote":{"type":"git","url":"https://github.com/cczhong11/my_note.git"},"name":"my_note"},"type":"note","desc":"","links":[],"anchors":{"leaders-and-followers":{"type":"header","value":"leaders-and-followers","line":8,"column":0},"setting-up-new-followers":{"type":"header","value":"setting-up-new-followers","line":27,"column":0},"fail-over":{"type":"header","value":"fail-over","line":34,"column":0},"implementation-of-replication-logs":{"type":"header","value":"implementation-of-replication-logs","line":46,"column":0},"write-ahead-log-wal-shipping":{"type":"header","value":"write-ahead-log-wal-shipping","line":48,"column":0},"logical-row-based-log-replication":{"type":"header","value":"logical-row-based-log-replication","line":55,"column":0}},"fname":"development.database.replication","updated":1620793146024,"created":1620792513740,"parent":"a40ef849-d301-4d74-a778-e6d9469dfb5d","children":[],"data":{},"custom":{},"contentHash":"921ac6fcfb939004292f0224ab699f28"},"body":"\u003ch1 id=\"replication\"\u003eReplication\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#replication\"\u003e\u003c/a\u003e\u003c/h1\u003e\n\u003ch1 id=\"leaders-and-followers\"\u003eleaders and followers\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#leaders-and-followers\"\u003e\u003c/a\u003e\u003c/h1\u003e\n\u003cp\u003eEvery write to the database needs to be processed by every replica; otherwise, the rep‐licas would no longer contain the same data. The most common solution for this is called leader-based replication\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/assets/images/2021-05-11-21-10-46.png\"\u003e\u003c/p\u003e\n\u003cp\u003eAn important detail of a replicated system is whether the replication happens syn‐chronously or asynchronous\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/assets/images/2021-05-11-21-12-13.png\"\u003e\u003c/p\u003e\n\u003cp\u003ereplication to follower 1 is synchronous: the leader waits until follower 1 has confirmed that it received the write before reporting success to the user, and before making the write visible to other clients. The replication to follower 2 is asynchronous: the leader sends the message, but doesn’t wait for a response from the follower.\u003c/p\u003e\n\u003cp\u003eThe advantage of synchronous replication is that the follower is guaranteed to have an up-to-date copy of the data that is consistent with the leader. If the leader sud‐denly fails, we can be sure that the data is still available on the follower. The disad‐vantage is that if the synchronous follower doesn’t respond (because it has crashed, or there is a network fault, or for any other reason), the write cannot be processed.\nThe leader must block all writes and wait until the synchronous replica is available again.\u003c/p\u003e\n\u003cp\u003eIn practice, if you enable syn‐chronous replication on a database, it usually means that one of the followers is syn‐chronous, and the others are asynchronous. If the synchronous follower becomes unavailable or slow, one of the asynchronous followers is made synchronous. This guarantees that you have an up-to-date copy of the data on at least two nodes. This configuration is sometimes also called semi-synchronous.\u003c/p\u003e\n\u003cp\u003eleader-based replication is configured to be completely asynchronous. In this case, if the leader fails and is not recoverable, any writes that have not yet been repli‐cated to followers are lost. This means that a write is not guaranteed to be durable, even if it has been confirmed to the client. However, a fully asynchronous configura‐tion has the advantage that the leader can continue processing writes, even if all of its followers have fallen behind.\u003c/p\u003e\n\u003ch2 id=\"setting-up-new-followers\"\u003eSetting Up New Followers\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#setting-up-new-followers\"\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003eTake a consistent snapshot of the leader’s database at some point in time\u003c/li\u003e\n\u003cli\u003eCopy the snapshot to the new follower node.\u003c/li\u003e\n\u003cli\u003eThe follower connects to the leader and requests all the data changes that have happened since the snapshot was taken\u003c/li\u003e\n\u003cli\u003eWhen the follower has processed the backlog of data changes since the snapshot, we say it has caught up. It can now continue to process data changes from the leader as they happen.\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"fail-over\"\u003efail-over\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#fail-over\"\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003cp\u003efollower\u003c/p\u003e\n\u003cp\u003eOn its local disk, each follower keeps a log of the data changes it has received from the leader. If a follower crashes and is restarted, or if the network between the leader and the follower is temporarily interrupted, the follower can recover quite easily: from its log, it knows the last transaction that was processed before the fault occurred\u003c/p\u003e\n\u003cp\u003eleader\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eDetermining that the leader has failed. There is no foolproof way of detecting what has gone wrong, so most systems simply use a timeout: nodes frequently bounce messages back and forth between each other, and if a node doesn’t respond for some period of tim\u003c/li\u003e\n\u003cli\u003eChoosing a new leader. This could be done through an election process (where the leader is chosen by a majority of the remaining replicas), or a new leader could be appointed by a previously elected controller node. The best candidate for leadership is usually the replica with the most up-to-date data changes from the old leader\u003c/li\u003e\n\u003cli\u003eReconfiguring the system to use the new leader. Clients now need to send their write requests to the new leader\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch1 id=\"implementation-of-replication-logs\"\u003eImplementation of Replication Logs\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#implementation-of-replication-logs\"\u003e\u003c/a\u003e\u003c/h1\u003e\n\u003ch2 id=\"write-ahead-log-wal-shipping\"\u003eWrite-ahead log (WAL) shipping\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#write-ahead-log-wal-shipping\"\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003cp\u003ethe log is an append-only sequence of bytes containing all writes to the database. We can use the exact same log to build a replica on another node: besides writing the log to disk, the leader also sends it across the network to its followers.\u003c/p\u003e\n\u003cp\u003e. The main disadvantage is that the log describes the data on a very low level: a WAL con‐tains details of which bytes were changed in which disk blocks. This makes replica‐tion closely coupled to the storage engine. If the database changes its storage format from one version to another, it is typically not possible to run different versions of the database software on the leader and the followers.\u003c/p\u003e\n\u003ch2 id=\"logical-row-based-log-replication\"\u003eLogical (row-based) log replication\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#logical-row-based-log-replication\"\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003cp\u003eAn alternative is to use different log formats for replication and for the storage engine, which allows the replication log to be decoupled from the storage engine internals. This kind of replication log is called a logical log, to distinguish it from the storage engine’s (physical) data representation.\u003c/p\u003e\n\u003cp\u003eA logical log for a relational database is usually a sequence of records describing writes to database tables at the granularity of a row: \u003c/p\u003e\n\u003cp\u003e• For an inserted row, the log contains the new values of all columns.\n• For a deleted row, the log contains enough information to uniquely identify the row that was deleted. Typically this would be the primary key, but if there is no primary key on the table, the old values of all columns need to be logged.\n• For an updated row, the log contains enough information to uniquely identify the updated row, and the new values of all columns (or at least the new values of all columns that changed)\u003c/p\u003e","noteIndex":{"id":"0f1b48c7-3a25-4016-83a5-15864d7803ad","title":"Development","vault":{"fsPath":"repos/dendron-aws-vault","remote":{"type":"git","url":"https://github.com/cczhong11/my_note.git"},"name":"my_note"},"type":"note","desc":"","links":[{"from":{"fname":"root","id":"c95dc4f5-23db-45e7-a15b-64582a183ccc","vaultName":"my_note"},"type":"backlink","position":{"start":{"line":8,"column":3,"offset":63},"end":{"line":8,"column":21,"offset":81},"indent":[]},"value":"development"}],"anchors":{},"fname":"development","updated":1618381238346,"created":1612940782409,"parent":null,"children":["400115e9-30f7-4a13-9776-db059bc9cd42","xsX5v3ZsyJ0i6gf9","1bc3b45a-b6f4-4150-87d3-5bd5b6eb8c24","6cea4852-6e7c-4140-b476-85c07b48a642","a40ef849-d301-4d74-a778-e6d9469dfb5d","09d9081f-3dff-453d-8488-7d2344cc8895","p11phg7nb10yw0wck1fyagq","92917ea3-452e-48dc-875e-5cd0002041db","2e151826-cb22-4d89-8ce0-71dad7204ce8","baa39444-0da9-4c55-8df7-2a6f8f787fa4","q4um3bc3st86ilkkvdjom6x","62daf50d-a39e-463f-aabd-be53790281fd","3524d0a7-be73-45d6-847e-c970f5c1c760","eac0f243-05b3-4b95-bec3-848e33edbc40","nc777xa48letazo00100hin"],"data":{},"custom":{"nav_order":0,"permalink":"/"},"body":"\n","contentHash":"38357962f5a50c6fd7d318dfa66bea90"},"collectionChildren":null,"customHeadContent":null,"config":{"version":5,"dev":{"previewV2Enabled":false,"enablePreviewV2":true},"commands":{"lookup":{"note":{"selectionMode":"extract","confirmVaultOnCreate":false,"leaveTrace":false,"bubbleUpCreateNew":true,"fuzzThreshold":0.2,"vaultSelectionModeOnCreate":"smart"}},"insertNote":{"initialValue":"templates"},"insertNoteLink":{"aliasMode":"none","enableMultiSelect":false},"insertNoteIndex":{"enableMarker":false},"randomNote":{},"copyNoteLink":{"aliasMode":"title"},"templateHierarchy":"template"},"workspace":{"dendronVersion":"0.90.0","vaults":[{"fsPath":"repos/dendron-aws-vault","remote":{"type":"git","url":"https://github.com/cczhong11/my_note.git"},"name":"my_note"},{"fsPath":"vault"}],"journal":{"dailyDomain":"daily","name":"journal","dateFormat":"y.MM.dd","addBehavior":"childOfDomain"},"scratch":{"name":"scratch","dateFormat":"y.MM.dd.HHmmss","addBehavior":"asOwnDomain"},"graph":{"zoomSpeed":1,"createStub":false},"enableAutoCreateOnDefinition":false,"enableXVaultWikiLink":false,"enableRemoteVaultInit":true,"workspaceVaultSyncMode":"noCommit","enableAutoFoldFrontmatter":true,"maxPreviewsCached":10,"maxNoteLength":204800,"enableUserTags":true,"enableHashTags":true,"task":{"name":"","dateFormat":"","addBehavior":"childOfCurrent","statusSymbols":{"":" ","wip":"w","done":"x","assigned":"a","moved":"m","blocked":"b","delegated":"l","dropped":"d","pending":"y"},"prioritySymbols":{"H":"high","M":"medium","L":"low"},"todoIntegration":false,"createTaskSelectionType":"selection2link","taskCompleteStatus":["done","x"]},"enableEditorDecorations":true,"enableHandlebarTemplates":true,"enableFullHierarchyNoteTitle":false,"enablePersistentHistory":false},"preview":{"enableFMTitle":true,"enableNoteTitleForLink":true,"enableMermaid":true,"enablePrettyRefs":true,"enableKatex":true,"enableFrontmatterTags":true,"enableHashesForFMTags":false,"automaticallyShowPreview":false},"publishing":{"enableFMTitle":true,"enableNoteTitleForLink":true,"enablePrettyRefs":true,"enableKatex":true,"copyAssets":true,"siteHierarchies":["development","life"],"writeStubs":false,"siteRootDir":"docs","seo":{"title":"my_note","description":"Personal knowledge space"},"github":{"enableEditLink":true,"editLinkText":"Edit this page on GitHub","editBranch":"main","editViewMode":"tree"},"enableSiteLastModified":true,"enableFrontmatterTags":true,"enableHashesForFMTags":false,"enableRandomlyColoredTags":true,"enableTaskNotes":true,"enablePrettyLinks":true,"searchMode":"lookup","enableMermaid":true,"siteUrl":"https://notes.tczhong.com","siteFaviconPath":"favicon.ico","siteIndex":"development"}}},"__N_SSG":true},"page":"/notes/[id]","query":{"id":"7ad4e42c-ffb2-4c6a-9807-b9b71fa61eb0"},"buildId":"2XI28xCTA7nnAuXRumXG6","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>