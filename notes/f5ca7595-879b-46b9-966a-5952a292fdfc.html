<!DOCTYPE html>

<html lang="en-US">
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
  
  <title>Loadbalance - my_note</title>
  

  <link
    rel="shortcut icon"
    href="https://notes.tczhong.com/favicon.ico"
    type="image/x-icon"
  />
  <link
    rel="stylesheet"
    href="https://notes.tczhong.com/assets/css/just-the-docs-default.css"
  />
  <script
    type="text/javascript"
    src="https://notes.tczhong.com/assets/js/just-the-docs.js"
  ></script>
  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.22.0/themes/prism.min.css"
  />
  <link
    rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css"
    integrity="sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X"
    crossorigin="anonymous"
  />
  <script
    type="text/javascript"
    src="https://notes.tczhong.com/assets/js/vendor/lunr.min.js"
  ></script>
  
  <meta name="viewport" content="width=device-width, initial-scale=1" />
   
  
<meta name="description" content="Personal knowledge space">
<meta name="author" content="">

<link rel="canonical" href="https://notes.tczhong.com/notes/f5ca7595-879b-46b9-966a-5952a292fdfc.html">

<meta property="og:type" content="article">
<meta property="og:url" content="https://notes.tczhong.com/notes/f5ca7595-879b-46b9-966a-5952a292fdfc.html">
<meta property="og:description" content="Personal knowledge space">
<meta property="og:image" content="https://notes.tczhong.comundefined">

<meta name="twitter:card" content="summary">

<meta name="twitter:url" content="https://notes.tczhong.com/notes/f5ca7595-879b-46b9-966a-5952a292fdfc.html">
<meta name="twitter:description" content="Personal knowledge space">
<meta name="twitter:image" content="https://notes.tczhong.comundefined">


  <meta property="og:title" content="Loadbalance - my_note" />
  <meta name="twitter:title" content="Loadbalance - my_note" />
  
</head>


<body>
    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
      <symbol id="svg-link" viewBox="0 0 24 24">
        <title>Link</title>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link">
          <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path>
        </svg>
      </symbol>
      <symbol id="svg-search" viewBox="0 0 24 24">
        <title>Search</title>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search">
          <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line>
        </svg>
      </symbol>
      <symbol id="svg-menu" viewBox="0 0 24 24">
        <title>Menu</title>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu">
          <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line>
        </svg>
      </symbol>
      <symbol id="svg-arrow-right" viewBox="0 0 24 24">
        <title>Expand</title>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right">
          <polyline points="9 18 15 12 9 6"></polyline>
        </svg>
      </symbol>
      <symbol id="svg-doc" viewBox="0 0 24 24">
        <title>Document</title>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file">
          <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline>
        </svg>
      </symbol>
    </svg>

    <div class="side-bar">
      <div class="site-header">
        <a href="https://notes.tczhong.com" class="site-title lh-tight">
  my_note

 </a>
        <a href="#" id="menu-button" class="site-button">
          <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg>
        </a>
      </div>

      <nav role="navigation" aria-label="Main" id="site-nav" class="site-nav">
      </nav>
      <footer class="site-footer">
        ğŸŒ± with ğŸ’• using <a href="https://www.dendron.so/"> Dendron ğŸŒ² </a>
      </footer>
    </div>
    <div class="main" id="top">
        <div id="main-header" class="main-header">
          
            <div class="search">
              <div class="search-input-wrap">
                <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search my_note" aria-label="Search my_note" autocomplete="off">
                <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label>
              </div>
              <div id="search-results" class="search-results"></div>
            </div>
          
          
    </div>
    <div id="main-content-wrap" class="main-content-wrap">
      
        
          <nav aria-label="Breadcrumb" class="breadcrumb-nav">
            <ol class="breadcrumb-nav-list"><li class="breadcrumb-nav-list-item"><a href="https://notes.tczhong.com">Development</a></li><li class="breadcrumb-nav-list-item"><a href="https://notes.tczhong.com/notes/92917ea3-452e-48dc-875e-5cd0002041db.html">Network</a></li><li class="breadcrumb-nav-list-item">Loadbalance</li></ol>
          </nav>
        
      
      <div id="main-content" class="main-content" role="main">

        
        
        <script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
        <script>mermaid.initialize({startOnLoad:true});</script>
        

        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
        <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>

        

        <script>
          $(function () {
            $('[data-toggle="popover"]').popover({html: true})
          })
        </script>

        

<div id="main" role="main">

  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="Loadbalance">
    
    <meta itemprop="datePublished" content="2021-03-23T22:18:24+00:00">
    <meta itemprop="dateModified" content="2021-05-03T22:44:25+00:00">

    <div class="page__inner-wrap">

      

      <section class="page__content" itemprop="text">

        

        <h1 id="loadbalance"><a aria-hidden="true" class="anchor-heading" href="#loadbalance"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Loadbalance</h1>
<h1 id="load-balance"><a aria-hidden="true" class="anchor-heading" href="#load-balance"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>load balance</h1>
<p>æŠŠä¸€ç³»åˆ—taskåˆ†ç»™ä¸åŒçš„æœºå™¨ã€‚</p>
<ul>
<li>é™æ€
<ul>
<li>it does not take into account the state of the system for the distribution of tasks</li>
<li>are easy to set up and extremely efficient in the case of fairly regular tasks</li>
</ul>
</li>
<li>åŠ¨æ€
<ul>
<li>take into account the current load of each of the computing units</li>
<li>tasks can be moved dynamically from an overloaded node to an underloaded node in order to receive faster processing</li>
</ul>
</li>
</ul>
<h2 id="proxy"><a aria-hidden="true" class="anchor-heading" href="#proxy"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>proxy</h2>
<ul>
<li>
<p>Client-side random load balancing: deliver a list of server IPs to the client, and then to have client randomly select the IP from the list on each connection</p>
<ul>
<li>the method of delivery of list of IPs to the client can vary</li>
</ul>
</li>
<li>
<p>Server-side load balancers</p>
<ul>
<li>The load balancer forwards requests to one of the "backend" servers</li>
<li>load balancers are implemented in high-availability pairs which may also replicate session persistence data if required by the specific application</li>
</ul>
</li>
<li>
<p>presistence</p>
<ul>
<li>important issue when operating a load-balanced service is how to handle information that must be kept across the multiple requests in a user's session. </li>
<li>One basic solution to the session data issue is to send all requests in a user session consistently to the same backend server.</li>
<li>Assignment to a particular server might be based on a username, client IP address, or be random.</li>
<li>use memcache to save session info</li>
<li>a simple but efficient approach is to store the per-session data in the browser itself: cookie
<ul>
<li>or URL rewriting</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="forward"><a aria-hidden="true" class="anchor-heading" href="#forward"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>forward</h3>
<p>å‰å‘ä»£ç†ä½œä¸ºå®¢æˆ·ç«¯çš„ä»£ç†ï¼Œå°†ä»äº’è”ç½‘ä¸Šè·å–çš„èµ„æºè¿”å›ç»™ä¸€ä¸ªæˆ–å¤šä¸ªçš„å®¢æˆ·ç«¯ï¼ŒæœåŠ¡ç«¯ï¼ˆå¦‚WebæœåŠ¡å™¨ï¼‰åªçŸ¥é“ä»£ç†çš„IPåœ°å€è€Œä¸çŸ¥é“å®¢æˆ·ç«¯çš„IPåœ°å€
Forward proxies ensure that websites never communicate directly with a user</p>
<p><img src="/assets/images/2021-05-03-22-38-13.png"></p>
<h3 id="reverse"><a aria-hidden="true" class="anchor-heading" href="#reverse"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>reverse</h3>
<p>åå‘ä»£ç†æ˜¯ä½œä¸ºæœåŠ¡å™¨ç«¯ï¼ˆå¦‚WebæœåŠ¡å™¨ï¼‰çš„ä»£ç†ä½¿ç”¨ï¼Œè€Œä¸æ˜¯å®¢æˆ·ç«¯ã€‚åå‘ä»£ç†æ˜¯ä¾›å¾ˆå¤šå®¢æˆ·ç«¯éƒ½é€šè¿‡å®ƒé—´æ¥è®¿é—®ä¸åŒåç«¯æœåŠ¡å™¨ä¸Šçš„èµ„æºï¼Œè€Œä¸éœ€è¦çŸ¥é“è¿™äº›åç«¯æœåŠ¡å™¨çš„å­˜åœ¨ï¼Œè€Œä»¥ä¸ºæ‰€æœ‰èµ„æºéƒ½æ¥è‡ªäºè¿™ä¸ªåå‘ä»£ç†æœåŠ¡å™¨ã€‚
reverse proxies ensure that users would not communicate directly with a back-end server.
<img src="/assets/images/2021-05-03-22-39-21.png"></p>
<p>A reverse proxy server is a type of proxy server that typically sits behind the firewall in a private network and directs client requests to the appropriate backend server. A reverse proxy provides an additional level of abstraction and control to ensure the smooth flow of network traffic between clients and servers.</p>
<h2 id="dns"><a aria-hidden="true" class="anchor-heading" href="#dns"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>DNS</h2>
<ul>
<li>round-robin DNS: multiple IP addresses are associated with a single domain name</li>
<li><a href="https://en.wikipedia.org/wiki/Load_balancing_(computing)#DNS_delegation">DNS delegation</a>: delegate <a href="http://www.example.org">www.example.org</a> as a sub-domain whose zone is served by each of the same servers that are serving the web site. This technique works particularly well where individual servers are spread geographically on the Internet. </li>
</ul><span id="navId" data="f5ca7595-879b-46b9-966a-5952a292fdfc"></span>

                
      </section>

      
    </div>

    
  </article>

  
  
</div>


        
          <hr>
          <footer>
            
            

            
                
              </div>
          </footer>
        
    </div>
</div>


  

  <div class="search-overlay"></div>

</div>
</body>
</html>
