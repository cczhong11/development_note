<!DOCTYPE html>

<html lang="en-US">
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
  
  <title>Boot - my_note</title>
  

  <link
    rel="shortcut icon"
    href="https://notes.tczhong.com/favicon.ico"
    type="image/x-icon"
  />
  <link
    rel="stylesheet"
    href="https://notes.tczhong.com/assets/css/just-the-docs-default.css"
  />
  <script
    type="text/javascript"
    src="https://notes.tczhong.com/assets/js/just-the-docs.js"
  ></script>
  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.22.0/themes/prism.min.css"
  />
  <link
    rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css"
    integrity="sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X"
    crossorigin="anonymous"
  />
  <script
    type="text/javascript"
    src="https://notes.tczhong.com/assets/js/vendor/lunr.min.js"
  ></script>
  
  <meta name="viewport" content="width=device-width, initial-scale=1" />
   
  
<meta name="description" content="Personal knowledge space">
<meta name="author" content="">

<link rel="canonical" href="https://notes.tczhong.com/notes/6af427f5-61d4-4a9e-bebc-a64bfbb97b20.html">

<meta property="og:type" content="article">
<meta property="og:url" content="https://notes.tczhong.com/notes/6af427f5-61d4-4a9e-bebc-a64bfbb97b20.html">
<meta property="og:description" content="Personal knowledge space">
<meta property="og:image" content="https://notes.tczhong.comundefined">

<meta name="twitter:card" content="summary">

<meta name="twitter:url" content="https://notes.tczhong.com/notes/6af427f5-61d4-4a9e-bebc-a64bfbb97b20.html">
<meta name="twitter:description" content="Personal knowledge space">
<meta name="twitter:image" content="https://notes.tczhong.comundefined">


  <meta property="og:title" content="Boot - my_note" />
  <meta name="twitter:title" content="Boot - my_note" />
  
</head>


<body>
    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
      <symbol id="svg-link" viewBox="0 0 24 24">
        <title>Link</title>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link">
          <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path>
        </svg>
      </symbol>
      <symbol id="svg-search" viewBox="0 0 24 24">
        <title>Search</title>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search">
          <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line>
        </svg>
      </symbol>
      <symbol id="svg-menu" viewBox="0 0 24 24">
        <title>Menu</title>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu">
          <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line>
        </svg>
      </symbol>
      <symbol id="svg-arrow-right" viewBox="0 0 24 24">
        <title>Expand</title>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right">
          <polyline points="9 18 15 12 9 6"></polyline>
        </svg>
      </symbol>
      <symbol id="svg-doc" viewBox="0 0 24 24">
        <title>Document</title>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file">
          <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline>
        </svg>
      </symbol>
    </svg>

    <div class="side-bar">
      <div class="site-header">
        <a href="https://notes.tczhong.com" class="site-title lh-tight">
  my_note

 </a>
        <a href="#" id="menu-button" class="site-button">
          <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg>
        </a>
      </div>

      <nav role="navigation" aria-label="Main" id="site-nav" class="site-nav">
      </nav>
      <footer class="site-footer">
        ğŸŒ± with ğŸ’• using <a href="https://www.dendron.so/"> Dendron ğŸŒ² </a>
      </footer>
    </div>
    <div class="main" id="top">
        <div id="main-header" class="main-header">
          
            <div class="search">
              <div class="search-input-wrap">
                <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search my_note" aria-label="Search my_note" autocomplete="off">
                <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label>
              </div>
              <div id="search-results" class="search-results"></div>
            </div>
          
          
    </div>
    <div id="main-content-wrap" class="main-content-wrap">
      
        
          <nav aria-label="Breadcrumb" class="breadcrumb-nav">
            <ol class="breadcrumb-nav-list"><li class="breadcrumb-nav-list-item"><a href="https://notes.tczhong.com">Development</a></li><li class="breadcrumb-nav-list-item"><a href="https://notes.tczhong.com/notes/6cea4852-6e7c-4140-b476-85c07b48a642.html">Computer</a></li><li class="breadcrumb-nav-list-item">Boot</li></ol>
          </nav>
        
      
      <div id="main-content" class="main-content" role="main">

        
        

        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
        <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>

        

        <script>
          $(function () {
            $('[data-toggle="popover"]').popover({html: true})
          })
        </script>

        

<div id="main" role="main">

  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="Boot">
    
    <meta itemprop="datePublished" content="2021-04-05T22:42:28+00:00">
    <meta itemprop="dateModified" content="2021-04-05T22:44:02+00:00">

    <div class="page__inner-wrap">

      

      <section class="page__content" itemprop="text">

        

        <h1 id="boot"><a aria-hidden="true" class="anchor-heading" href="#boot"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Boot</h1>
<h1 id="boot-process"><a aria-hidden="true" class="anchor-heading" href="#boot-process"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>boot process</h1>
<p><img src="/assets/images/2021-04-05-22-42-45.png"></p>
<p>What happened when I press the power-on button of Linux operating system, i.e., what happened during the bootstrap process of Linux?</p>
<ol>
<li>BIOS</li>
</ol>
<ul>
<li>BIOS stands for Basic Input/output System</li>
<li>Performs some system integrity checks</li>
<li>Searches, loads, and executes the boot loader program.</li>
<li>It looks for boot loader in floppy, cd-rom, or hard drive. You can press a key (typically F12 of F2, but it depends on your system) during the BIOS startup to change the boot sequence.</li>
<li>Once the boot loader program is detected and loaded into the memory, BIOS gives the control to it. And the boot loader program is MBR, Master Boot Record.</li>
</ul>
<p>è¯»å–å…¶ä¸­æ‰€å­˜å‚¨çš„ç¨‹åºã€‚è¿™ä¸€ç¨‹åºé€šå¸¸çŸ¥é“ä¸€äº›ç›´æ¥è¿æ¥åœ¨ä¸»æ¿ä¸Šçš„ç¡¬ä»¶(ç¡¬ç›˜ï¼Œç½‘ç»œæ¥å£ï¼Œé”®ç›˜ï¼Œä¸²å£ï¼Œå¹¶å£)ã€‚ç°åœ¨å¤§éƒ¨åˆ†çš„BIOSå…è®¸ä½ ä»è½¯ç›˜ã€å…‰ç›˜æˆ–è€…ç¡¬ç›˜ä¸­é€‰æ‹©ä¸€ä¸ªæ¥å¯åŠ¨è®¡ç®—æœºã€‚</p>
<ol start="2">
<li>MBR</li>
</ol>
<ul>
<li>It is in the 1st sector of the bootable disk.</li>
<li>The MBR holds the information on how the logical partitions, containing file systems, are organized on that medium.</li>
<li>So MBR will tell computer to read boot loader from one specific partition.</li>
<li>Typical boot loader include GRUB, LILO.
ä¸‹ä¸€æ­¥ï¼Œè®¡ç®—æœºå°†ä»ä½ æ‰€é€‰æ‹©çš„å­˜å‚¨è®¾å¤‡ä¸­è¯»å–èµ·å§‹çš„512ä¸ªå­—èŠ‚(bytes)ã€‚å¦‚æœæˆ‘ä»¬ä»å…‰ç›˜å¯åŠ¨çš„è¯ï¼Œé‚£ä¹ˆè®¡ç®—æœºå°±ä¼šè¯»å–å…‰ç›˜æœ€å¼€å§‹çš„512ä¸ªå­—èŠ‚ã€‚è¿™512ä¸ªå­—èŠ‚å«åšä¸»å¼•å¯¼è®°å½•MBR (master boot record)ã€‚MBRä¼šå‘Šè¯‰ç”µè„‘ä»è¯¥è®¾å¤‡çš„æŸä¸€ä¸ªåˆ†åŒº(partition)æ¥è£…è½½å¼•å¯¼åŠ è½½ç¨‹åº(boot loader)ã€‚å¼•å¯¼åŠ è½½ç¨‹åºå‚¨å­˜æœ‰æ“ä½œç³»ç»Ÿ(OS)çš„ç›¸å…³ä¿¡æ¯ï¼Œæ¯”å¦‚æ“ä½œç³»ç»Ÿåç§°ï¼Œæ“ä½œç³»ç»Ÿå†…æ ¸ (å†…æ ¸)æ‰€åœ¨ä½ç½®ç­‰ã€‚å¸¸ç”¨çš„å¼•å¯¼åŠ è½½ç¨‹åºæœ‰GRUBå’ŒLILOã€‚ </li>
</ul>
<ol start="3">
<li>GRUB</li>
</ol>
<ul>
<li>GRUB stands for Grand Unified Bootloader. It will help us load the kernel.
GRUB displays a splash screen, waits for few seconds, if you donâ€™t enter anything, it loads the default kernel image as specified in the grub configuration file.
GRUB has the knowledge of the filesystem (the older Linux loader LILO didnâ€™t understand filesystem).
Grub configuration file is /boot/grub/grub.conf (/etc/grub.conf is a link to this). The following is sample grub.conf of CentOS.</li>
</ul>
<ol start="4">
<li>Kernel</li>
</ol>
<ul>
<li>Kernel executes the /sbin/init program</li>
<li>Kernel will reserve some space for itself to run and use driver to detect computer hardware.</li>
<li>Then it executes init. init was the 1st program to be executed by Linux Kernel, it has the process id (PID) of 1.
å¦‚æœæˆ‘ä»¬åŠ è½½çš„æ˜¯Linuxå†…æ ¸ï¼ŒLinuxå†…æ ¸å¼€å§‹å·¥ä½œã€‚å†…æ ¸ä¼šé¦–å…ˆé¢„ç•™è‡ªå·±è¿è¡Œæ‰€éœ€çš„å†…å­˜ç©ºé—´ï¼Œç„¶åé€šè¿‡é©±åŠ¨ç¨‹åº(driver)æ£€æµ‹è®¡ç®—æœºç¡¬ä»¶ã€‚è¿™æ ·ï¼Œæ“ä½œç³»ç»Ÿå°±å¯ä»¥çŸ¥é“è‡ªå·±æœ‰å“ªäº›ç¡¬ä»¶å¯ç”¨ã€‚éšåï¼Œå†…æ ¸ä¼šå¯åŠ¨ä¸€ä¸ªinitè¿›ç¨‹ã€‚å®ƒæ˜¯Linuxç³»ç»Ÿä¸­çš„1å·è¿›ç¨‹(Linuxç³»ç»Ÿæ²¡æœ‰0å·è¿›ç¨‹)ã€‚åˆ°æ­¤ï¼Œå†…æ ¸å°±å®Œæˆäº†åœ¨è®¡ç®—æœºå¯åŠ¨é˜¶æ®µçš„å·¥ä½œï¼Œäº¤æ¥ç»™initæ¥ç®¡ç†ã€‚</li>
</ul>
<ol start="5">
<li>init process</li>
</ol>
<ul>
<li>Init will run some start up scripts. For example, configure the name of the computer, configure time zone, detect the file system, mount some hard drive, configure the network, activate raid, etc.</li>
<li>Then it will give the login dialogue box to prompt login.
éšåï¼Œinitä¼šè¿è¡Œä¸€ç³»åˆ—çš„åˆå§‹è„šæœ¬(startup scripts)ï¼Œè¿™äº›è„šæœ¬æ˜¯Linuxä¸­å¸¸è§çš„shell scriptsã€‚è¿™äº›è„šæœ¬æ‰§è¡Œå¦‚ä¸‹åŠŸèƒ½ï¼š</li>
</ul>
<p>è®¾ç½®è®¡ç®—æœºåç§°ï¼Œæ—¶åŒºï¼Œæ£€æµ‹æ–‡ä»¶ç³»ç»Ÿï¼ŒæŒ‚è½½ç¡¬ç›˜ï¼Œæ¸…ç©ºä¸´æ—¶æ–‡ä»¶ï¼Œè®¾ç½®ç½‘ç»œâ€¦â€¦
å½“è¿™äº›åˆå§‹è„šæœ¬ï¼Œæ“ä½œç³»ç»Ÿå·²ç»å®Œå…¨å‡†å¤‡å¥½äº†ï¼Œåªæ˜¯ï¼Œè¿˜æ²¡æœ‰äººå¯ä»¥ç™»å½•ã€‚initä¼šç»™å‡ºç™»å½•(login)å¯¹è¯æ¡†ï¼Œæˆ–è€…æ˜¯å›¾å½¢åŒ–çš„ç™»å½•ç•Œé¢ã€‚</p><span id="navId" data="6af427f5-61d4-4a9e-bebc-a64bfbb97b20"></span>

                
      </section>

      
    </div>

    
  </article>

  
  
</div>


        
          <hr>
          <footer>
            
            

            
                
              </div>
          </footer>
        
    </div>
</div>


  

  <div class="search-overlay"></div>

</div>
</body>
</html>
